!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):e.UtilityLogger=r()}(this,function(){"use strict";function e(e,r){for(var t=0,o=e.length-1;o>=0;o--){var n=e[o];"."===n?e.splice(o,1):".."===n?(e.splice(o,1),t++):t&&(e.splice(o,1),t--)}if(r)for(;t--;t)e.unshift("..");return e}function r(){for(var r="",t=!1,o=arguments.length-1;o>=-1&&!t;o--){var i=o>=0?arguments[o]:"/";if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(r=i+"/"+r,t="/"===i.charAt(0))}return r=e(n(r.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+r||"."}function t(r){var t=o(r),i="/"===f(r,-1);return(r=e(n(r.split("/"),function(e){return!!e}),!t).join("/"))||t||(r="."),r&&i&&(r+="/"),(t?"/":"")+r}function o(e){return"/"===e.charAt(0)}function n(e,r){if(e.filter)return e.filter(r);for(var t=[],o=0;o<e.length;o++)r(e[o],o,e)&&t.push(e[o]);return t}function i(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function s(e,r){return r={exports:{}},e(r,r.exports),r.exports}var a={},l=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,c=function(e){return l.exec(e).slice(1)},u={extname:function(e){return c(e)[3]},basename:function(e,r){var t=c(e)[2];return r&&t.substr(-1*r.length)===r&&(t=t.substr(0,t.length-r.length)),t},dirname:function(e){var r=c(e),t=r[0],o=r[1];return t||o?(o&&(o=o.substr(0,o.length-1)),t+o):"."},sep:"/",delimiter:":",relative:function(e,t){function o(e){for(var r=0;r<e.length&&""===e[r];r++);for(var t=e.length-1;t>=0&&""===e[t];t--);return r>t?[]:e.slice(r,t-r+1)}e=r(e).substr(1),t=r(t).substr(1);for(var n=o(e.split("/")),i=o(t.split("/")),s=Math.min(n.length,i.length),a=s,l=0;l<s;l++)if(n[l]!==i[l]){a=l;break}for(var c=[],l=a;l<n.length;l++)c.push("..");return(c=c.concat(i.slice(a))).join("/")},join:function(){return t(n(Array.prototype.slice.call(arguments,0),function(e,r){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},isAbsolute:o,normalize:t,resolve:r},f="b"==="ab".substr(-1)?function(e,r,t){return e.substr(r,t)}:function(e,r,t){return r<0&&(r=e.length+r),e.substr(r,t)},d=s(function(e){var r={};e.exports=r;var t={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(t).forEach(function(e){var o=t[e],n=r[e]=[];n.open="["+o[0]+"m",n.close="["+o[1]+"m"})}),h=process.argv,p=-1===h.indexOf("--no-color")&&-1===h.indexOf("--color=false")&&(-1!==h.indexOf("--color")||-1!==h.indexOf("--color=true")||-1!==h.indexOf("--color=always")||!(process.stdout&&!process.stdout.isTTY)&&("win32"===process.platform||("COLORTERM"in process.env||"dumb"!==process.env.TERM&&!!/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)))),g=s(function(e){e.exports=function(e,r){var t="",o={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};return(e=(e=e||"Run the trap, drop the bass").split("")).forEach(function(e){e=e.toLowerCase();var r=o[e]||[" "],n=Math.floor(Math.random()*r.length);t+=void 0!==o[e]?o[e][n]:e}),t}}),m=s(function(e){e.exports=function(e,r){function t(e){return Math.floor(Math.random()*e)}e=e||"   he is here   ";var o={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},n=[].concat(o.up,o.down,o.mid);return function(e,r){var i,s,a="";(r=r||{}).up=void 0===r.up||r.up,r.mid=void 0===r.mid||r.mid,r.down=void 0===r.down||r.down,r.size=void 0!==r.size?r.size:"maxi",e=e.split("");for(s in e)if(!function(e){var r=!1;return n.filter(function(t){r=t===e}),r}(s)){switch(a+=e[s],i={up:0,down:0,mid:0},r.size){case"mini":i.up=t(8),i.mid=t(2),i.down=t(8);break;case"maxi":i.up=t(16)+3,i.mid=t(4)+1,i.down=t(64)+3;break;default:i.up=t(8)+1,i.mid=t(6)/2,i.down=t(8)+1}var l=["up","mid","down"];for(var c in l)for(var u=l[c],f=0;f<=i[u];f++)r[u]&&(a+=o[u][t(o[u].length)])}return a}(e,r)}}),b=s(function(e){e.exports=function(e,r,t){if(" "===e)return e;switch(r%3){case 0:return _.red(e);case 1:return _.white(e);case 2:return _.blue(e)}}}),v=s(function(e){e.exports=function(e,r,t){return r%2==0?e:_.inverse(e)}}),y=s(function(e){e.exports=function(){var e=["red","yellow","green","blue","magenta"];return function(r,t,o){return" "===r?r:_[e[t++%e.length]](r)}}()}),w=s(function(e){e.exports=function(){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function(r,t,o){return" "===r?r:_[e[Math.round(Math.random()*(e.length-1))]](r)}}()}),_=s(function(e){function r(e){var r=function e(){return function(){var e=arguments,r=e.length,t=0!==r&&String(arguments[0]);if(r>1)for(var i=1;i<r;i++)t+=" "+e[i];if(!o.enabled||!t)return t;var s=this._styles,a=s.length;for(;a--;){var l=n[s[a]];t=l.open+t.replace(l.closeRe,l.open)+l.close}return t}.apply(e,arguments)};return r._styles=e,r.__proto__=c,r}function t(e){for(var r in e)!function(r){o[r]=function(t){if("object"==typeof e[r]){var n=t;for(var i in e[r])n=o[e[r][i]](n);return n}return o[e[r]](t)}}(r)}var o={};e.exports=o,o.themes={};var n=o.styles=d,s=Object.defineProperties;o.supportsColor=p,void 0===o.enabled&&(o.enabled=o.supportsColor),o.stripColors=o.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")};o.stylize=function(e,r){return o.enabled?n[r].open+e+n[r].close:e+""};var a=/[|\\{}()[\]^$+*?.]/g,l=function(){var e={};return n.grey=n.gray,Object.keys(n).forEach(function(t){n[t].closeRe=new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(a,"\\$&")}(n[t].close),"g"),e[t]={get:function(){return r(this._styles.concat(t))}}}),e}(),c=s(function(){},l);o.setTheme=function(e){if("string"==typeof e)try{return o.themes[e]=i(),t(o.themes[e]),o.themes[e]}catch(e){return console.log(e),e}else t(e)};o.trap=g,o.zalgo=m,o.maps={},o.maps.america=b,o.maps.zebra=v,o.maps.rainbow=y,o.maps.random=w;for(var u in o.maps)!function(e){o[e]=function(r){return function(e,r){var t=r.split("");return(t=t.map(e)).join("")}(o.maps[e],r)}}(u);s(o,function(){var e={};return Object.keys(l).forEach(function(t){e[t]={get:function(){return r([t])}}}),e}())}),k=s(function(e){e.exports=function(){function e(e){var t=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","charAt","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","charCodeAt","indexOf","lastIndexof","length","localeCompare","match","replace","search","slice","split","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim","trimLeft","trimRight"];Object.keys(e).forEach(function(o){-1!==t.indexOf(o)?console.log("warn: ".red+("String.prototype"+o).magenta+" is probably something you don't want to override. Ignoring style name"):"string"==typeof e[o]?(_[o]=_[e[o]],r(o,function(){return _[e[o]](this)})):r(o,function(){for(var r=this,t=0;t<e[o].length;t++)r=_[e[o][t]](r);return r})})}var r=function(e,r){String.prototype.__defineGetter__(e,r)};r("strip",function(){return _.strip(this)}),r("stripColors",function(){return _.strip(this)}),r("trap",function(){return _.trap(this)}),r("zalgo",function(){return _.zalgo(this)}),r("zebra",function(){return _.zebra(this)}),r("rainbow",function(){return _.rainbow(this)}),r("random",function(){return _.random(this)}),r("america",function(){return _.america(this)});Object.keys(_.styles).forEach(function(e){r(e,function(){return _.stylize(this,e)})}),_.setTheme=function(r){if("string"==typeof r)try{return _.themes[r]=i(),e(_.themes[r]),_.themes[r]}catch(e){return console.log(e),e}else e(r)}}}),x=s(function(e){e.exports=_,k()});const O=Object.freeze({quiet:0,log:1,error:2,info:3,debug:4}),E=Object.freeze({console:0,file:1,overlay:2}),$=Object.freeze({[O.log]:"white",[O.error]:"red",[O.info]:"green",[O.debug]:"cyan"}),F=Object.freeze({level:"error",mode:"console",logFile:"logFile.log"}),j=Object.freeze({level:"error",mode:"console"});class T{constructor({level:e}){if(Object.keys(O).indexOf(e)<0)throw new TypeError(`Invalid log level ${e}`);this.level=O[e]}log(...e){console.log(this._consoleFormat(e,O.log))}error(...e){console.error(this._consoleFormat(e,O.error))}info(...e){console.info(this._consoleFormat(e,O.info))}debug(...e){console.warn(this._consoleFormat(e,O.debug))}_consoleFormat(e,r){const t=Date();let o;switch(r){case O.error:o=x[$[O.error]](`ERROR: ${t}\n${e.reduce(this._stringify,"")}`);break;case O.info:o=x[$[O.info]](`INFO: ${t}\n${e.reduce(this._stringify,"")}`);break;case O.debug:o=x[$[O.debug]](`DEBUG: ${t}\n${e.reduce(this._stringify,"")}`);break;case O.log:o=x[$[O.log]](`LOG: ${t}\n${e.reduce(this._stringify,"")}`)}return o}_stringify(e,r){return`${e}\t${r}\n\n`}}class L extends T{constructor(e){const r=Object.assign({},F,e);if(super(r),void 0!==r.mode&&Object.keys(E).indexOf(r.mode)<0)throw new TypeError(`Invalid log mode ${r.mode}`);this.mode=E[r.mode],this.mode===E.file&&(this.logFile=r.logFile||`${u.basename(process.argv[1])}.log`)}log(...e){if(this.level>=O.log)switch(this.mode){case E.console:super.log(...e);break;case E.file:a.appendFile(this.logFile,this._fileFormat(e,O.log));break;default:throw new TypeError(`Invalid log mode ${this.mode}`)}}error(...e){if(this.level>=O.error)switch(this.mode){case E.console:super.error(...e);break;case E.file:a.appendFile(this.logFile,this._fileFormat(e,O.error));break;default:throw new TypeError(`Invalid log mode ${this.mode}`)}}info(...e){if(this.level>=O.info)switch(this.mode){case E.console:super.info(...e);break;case E.file:a.appendFile(this.logFile,this._fileFormat(e,O.info));break;default:throw new TypeError(`Invalid log mode ${this.mode}`)}}debug(...e){if(this.level>=O.debug)switch(this.mode){case E.console:super.debug(...e);break;case E.file:a.appendFile(this.logFile,this._fileFormat(e,O.debug));break;default:throw new TypeError(`Invalid log mode ${this.mode}`)}}_fileFormat(e,r){const t=Date();let o;switch(r){case O.error:o=`ERROR: ${t}\n`;break;case O.info:o=`INFO: ${t}\n`;break;case O.debug:o=`DEBUG: ${t}\n`;break;case O.log:o=`LOG: ${t}\n`}return o+=e.reduce(this._stringify,"")}}class z extends T{constructor(e){const r=Object.assign({},j,e);if(super(r),void 0!==r.mode&&Object.keys(E).indexOf(r.mode)<0)throw new TypeError(`Invalid log mode ${r.mode}`);this.mode=E[r.mode],this.mode===E.overlay&&(this.overlay=document.createElement("div"),this.overlay.setAttribute("id","logger-overlay"),this.overlay.setAttribute("style","position: fixed; bottom: 0; top: 200px; right: 0; width 250px; overflow-y: scroll; background-color: rgba(0,0,0,0.35); color: white;"))}log(...e){if(this.level>=O.log){const r=document.createElement("span");switch(this.mode){case E.console:super.log(...e);break;case E.overlay:r.innerHTML=this._overlayFormat(e,O.log),r.setAttribute("style",`color: ${$[O.log]}`);break;default:throw new TypeError(`Invalid log mode for BrowserLogger: ${this.mode}`)}this.overlay.appendChild(r)}}error(...e){if(this.level>=O.error){const r=document.createElement("span");switch(this.mode){case E.console:super.error(...e);break;case E.overlay:r.innerHTML=this._overlayFormat(e,O.error),r.setAttribute("style",`color: ${$[O.error]}`);break;default:throw new TypeError(`Invalid log mode for BrowserLogger: ${this.mode}`)}this.overlay.appendChild(r)}}info(...e){if(this.level>=O.info){const r=document.createElement("span");switch(this.mode){case E.console:super.info(...e);break;case E.overlay:r.innerHTML=this._overlayFormat(e,O.info),r.setAttribute("style",`color: ${$[O.info]}`);break;default:throw new TypeError(`Invalid log mode for BrowserLogger: ${this.mode}`)}this.overlay.appendChild(r)}}debug(...e){if(this.level>=O.debug){const r=document.createElement("span");switch(this.mode){case E.console:super.debug(...e);break;case E.overlay:r.innerHTML=this._overlayFormat(e,O.debug),r.setAttribute("style",`color: ${$[O.debug]}`);break;default:throw new TypeError(`Invalid log mode for BrowserLogger: ${this.mode}`)}this.overlay.appendChild(r)}}_overlayFormat(e,r){const t=Date();let o;switch(r){case O.error:o=`ERROR: ${t}<br/>`;break;case O.info:o=`INFO: ${t}<br/>`;break;case O.debug:o=`DEBUG: ${t}<br/>`;break;case O.log:o=`LOG: ${t}<br/>`}const n=e.reduce(this._stringify,"");return n.replace("\n","<br />"),n.replace("\t","&emsp;"),o+n}}return"undefined"!=typeof process&&"node"===process.release.name?L:z});
